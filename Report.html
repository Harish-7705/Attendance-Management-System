<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>Reports</h3>  
    <!-- Reports Section -->
<section id="reports" class="section">
  <div class="reports-container">
    <form id="reportForm" class="report-form">
          <div style="display:flex; align-items:center; gap:12px; margin-bottom:12px;">
        <a href="manager.html" id="backToManager" style="display:inline-block;padding:8px 12px;background:#007BFF;color:#fff;border-radius:6px;text-decoration:none;font-weight:600;">‚Üê Back to Manager</a>
        <h2 style="margin:0">Leave Master</h2>
    </div>

      <!-- Report Type -->
     
      <p>Choose the type of report you'd like to generate.</p>
      <div class="report-type-row">
        <label class="report-option">
          <input type="radio" name="reportType" value="attendance" checked>
          <span>Attendance Report</span>
        </label>

        <label class="report-option">
          <input type="radio" name="reportType" value="leave">
          <span>Leave Summary Report</span>
        </label>
      </div>

      <!-- Parameters -->
      <h3>Parameters</h3>
      <p>Specify parameters to filter your report.</p>
      <div class="parameters-grid">
        
        <div>
          <label for="department">Department</label>
          <select id="department" name="department">
            <option value="all">All Departments</option>
            <option value="HR">HR</option>
            <option value="IT">IT</option>
            <option value="Finance">Finance</option>
          </select>
        </div>

        <div>
          <label for="employeeId">Select Employee ID</label>
          <select id="employeeId" name="employeeId" required>
            <option value="" disabled selected>Select Employee ID</option>
          </select>
        </div>

        <div>
          <label for="startDate">Start Date</label>
          <input type="date" id="startDate" name="startDate" value="2025-01-01">
        </div>

        <div>
          <label for="endDate">End Date</label>
          <input type="date" id="endDate" name="endDate" value="2025-11-10">
        </div>
      </div>

      <!-- Generate Button -->
      <div class="form-footer">
        <button type="button" class="btn-generate" id="exportExcelBtn" style="background:#28a745;">Export</button>
        <button type="submit" class="btn-generate">Generate Report</button>
      </div>

      <!-- Table will appear here -->
      <div id="reportTableContainer" style="margin-top: 20px;"></div>

    </form>
  </div>
</section>



       
<script>
  (function () {
    async function loadEmployeeIds() {
      const dropdown = document.getElementById('employeeId');
      if (!dropdown) return;

      // Show temporary loading option
      dropdown.innerHTML = `<option value="" disabled selected>Loading...</option>`;

      try {
        const res = await fetch('/api/userids');
        if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);

        const data = await res.json();
        console.log('Employee IDs fetched:', data);

        // Reset dropdown with placeholder and "All Employees" option
        dropdown.innerHTML = `
          <option value="" disabled selected>Select Employee ID</option>
          <option value="All Employees">All Employees</option>
        `;

        if (!Array.isArray(data) || data.length === 0) {
          throw new Error('No data received');
        }

        // Handle string or object array
        data.forEach(entry => {
          let id = typeof entry === 'string'
            ? entry
            : entry.userid || entry.user_id || entry.id || Object.values(entry)[0];

          if (id) {
            const option = document.createElement('option');
            option.value = id;
            option.innerText = id;
            dropdown.appendChild(option);
          }
        });

      } catch (err) {
        console.error('Error loading employee IDs:', err.message);
        // Fallback: sample IDs
        populateSampleIds(dropdown, err.message);
      }
    }

    function populateSampleIds(dropdown, message) {
      dropdown.innerHTML = `
        <option value="" disabled selected>Select Employee ID</option>
        <option value="All Employees">All Employees</option>
      `;
      const samples = ['EMP01', 'EMP02', 'EMP03', 'EMP04', 'EMP05'];
      samples.forEach(id => {
        const option = document.createElement('option');
        option.value = id;
        option.innerText = id + ' (sample)';
        dropdown.appendChild(option);
      });
      const info = document.createElement('option');
      info.disabled = true;
      info.textContent = ` ${message || 'Using fallback sample data'}`;
      dropdown.appendChild(info);
    }

    // Run on DOM ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadEmployeeIds);
    } else {
      loadEmployeeIds();
    }
  })();
</script>




<script>
  // Client-side pagination for generated reports
  const REPORTS_PER_PAGE = 10;
  let reportsDataAll = [];
  let currentReportPage = 1;

  // Helper: format ISO or Date-like values to dd-mm-yyyy
  function formatToDDMMYYYY(input) {
    if (input === null || input === undefined || input === '') return '';
    // If Date object
    if (input instanceof Date) {
      const d = input;
      const dd = String(d.getDate()).padStart(2, '0');
      const mm = String(d.getMonth() + 1).padStart(2, '0');
      const yyyy = d.getFullYear();
      return `${dd}-${mm}-${yyyy}`;
    }
    const s = String(input);
    // If ISO datetime like '2025-10-07T18:30:00.000Z' take left of T
    let datePart = s;
    if (s.indexOf('T') !== -1) datePart = s.split('T')[0];
    // If already yyyy-mm-dd
    const m = datePart.match(/^(\d{4})-(\d{2})-(\d{2})/);
    if (m) return `${m[3]}-${m[2]}-${m[1]}`;
    // fallback: try Date parse
    const parsed = new Date(s);
    if (!isNaN(parsed)) {
      const dd = String(parsed.getDate()).padStart(2, '0');
      const mm = String(parsed.getMonth() + 1).padStart(2, '0');
      const yyyy = parsed.getFullYear();
      return `${dd}-${mm}-${yyyy}`;
    }
    return s;
  }

  function renderReportsPage(page = 1, payload = null) {
    const container = document.getElementById('reportTableContainer');
    if (!container) return;

    const total = reportsDataAll.length;
    const totalPages = Math.max(1, Math.ceil(total / REPORTS_PER_PAGE));
    if (page < 1) page = 1;
    if (page > totalPages) page = totalPages;
    currentReportPage = page;

    const start = (page - 1) * REPORTS_PER_PAGE;
    const pageItems = reportsDataAll.slice(start, start + REPORTS_PER_PAGE);


    let tableHTML = '';
    if (payload && payload.reportType === 'leave') {
      // Leave Summary Report Table
      tableHTML += `
        <table class="styled-table">
          <thead>
            <tr>
              <th>Employee ID</th>
              <th>Name</th>
              <th>Department</th>
              <th>Leave Type</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Status</th>
              <th>Reason</th>
            </tr>
          </thead>
          <tbody>
      `;
      if (pageItems.length === 0) {
        tableHTML += `<tr><td colspan="8" style="text-align:center;color:#666;padding:18px;">No records found.</td></tr>`;
      } else {
        pageItems.forEach(row => {
          const empId = row.employeeId || row.userid || row.id || 'N/A';
          const name = row.name || row.username || 'N/A';
          const dept = row.department || row.dept || 'N/A';
          const leaveType = row.leaveType || row.leave_type || 'N/A';
          const startDate = row.startDate || row.start_date || row.from || 'N/A';
          const endDate = row.endDate || row.end_date || row.to || 'N/A';
          const status = row.status || 'N/A';
          const reason = row.reason || row.leave_reason || '';
          console.log('Reports Data:', reportsDataAll);

          tableHTML += `
            <tr>
              <td>${empId}</td>
              <td>${name}</td>
              <td>${dept}</td>
              <td>${leaveType}</td>
              <td>${startDate}</td>
              <td>${endDate}</td>
              <td>${status}</td>
              <td>${reason}</td>
            </tr>`;
        });
      }
      tableHTML += `</tbody></table>`;
    } else {
      // Attendance Report Table (default)
      tableHTML += `
        <table class="styled-table">
          <thead>
            <tr>
              <th>Employee ID</th>
              <th>Name</th>
              <th>Date</th>
              <th>Status</th>
              <th>Hours Worked</th>
              <th>Department</th>
              <th>Discrepancies</th>
            </tr>
          </thead>
          <tbody>
      `;
      if (pageItems.length === 0) {
        tableHTML += `<tr><td colspan="7" style="text-align:center;color:#666;padding:18px;">No records found.</td></tr>`;
      } else {
        pageItems.forEach(row => {
          const empId = row.employeeId || row.userid || row.id || 'N/A';
          const name = row.name || row.username || 'N/A';
          const dept = row.department || row.dept || 'N/A';
          const hours = row.hoursWorked ?? row.hours_worked ?? 'N/A';
          const rawDate = row.date || row.day || row.start_time || row.startTime || null;
          const date = rawDate ? formatToDDMMYYYY(rawDate) : 'N/A';
          let status = 'N/A';
          if (typeof row.status === 'string' && row.status.trim() !== '') {
            status = row.status;
          } else if (typeof row.hoursWorked !== 'undefined' && row.hoursWorked !== null) {
            status = Number(row.hoursWorked) > 0 ? 'Present' : 'Absent';
          } else if (typeof row.hours_worked !== 'undefined' && row.hours_worked !== null) {
            status = Number(row.hours_worked) > 0 ? 'Present' : 'Absent';
          }
          const discrepancies = row.discrepancies || '';
          tableHTML += `
            <tr>
              <td>${empId}</td>
              <td>${name}</td>
              <td>${date}</td>
              <td>${status}</td>
              <td>${hours}</td>
              <td>${dept}</td>
              <td>${discrepancies}</td>
            </tr>`;
        });
      }
      tableHTML += `</tbody></table>`;
    }

    // Insert pagination container below table
    container.innerHTML = `
      <h3>Generated Report: ${payload ? String(payload.reportType).toUpperCase() : ''}</h3>
      <p>Department: ${payload ? payload.department : ''}, Employee: ${payload ? payload.employeeId : ''}, Date Range: ${payload ? payload.startDate : ''} to ${payload ? payload.endDate : ''}</p>
      ${tableHTML}
      <div id="reportPagination" class="pagination" style="margin-top:12px; display:flex; gap:8px; align-items:center;"></div>
    `;

    renderReportPaginationControls(totalPages);
  }

  function renderReportPaginationControls(totalPages) {
    const container = document.getElementById('reportPagination');
    if (!container) return;
    container.innerHTML = '';

    const prev = document.createElement('button');
    prev.textContent = 'Prev';
    prev.disabled = currentReportPage === 1;
    prev.onclick = () => renderReportsPage(currentReportPage - 1);
    container.appendChild(prev);

    const maxButtons = 7;
    let startPage = 1;
    let endPage = totalPages;
    if (totalPages > maxButtons) {
      const half = Math.floor(maxButtons / 2);
      startPage = Math.max(1, currentReportPage - half);
      endPage = startPage + maxButtons - 1;
      if (endPage > totalPages) {
        endPage = totalPages;
        startPage = endPage - maxButtons + 1;
      }
    }

    if (startPage > 1) {
      const btn = document.createElement('button');
      btn.textContent = '1';
      btn.className = 'page-number';
      btn.onclick = () => renderReportsPage(1);
      container.appendChild(btn);
      if (startPage > 2) {
        const dots = document.createElement('span');
        dots.textContent = '...';
        dots.style.margin = '0 6px';
        container.appendChild(dots);
      }
    }

    for (let i = startPage; i <= endPage; i++) {
      const btn = document.createElement('button');
      btn.textContent = String(i);
      btn.className = 'page-number' + (i === currentReportPage ? ' active' : '');
      btn.onclick = () => renderReportsPage(i);
      container.appendChild(btn);
    }

    if (endPage < totalPages) {
      if (endPage < totalPages - 1) {
        const dots = document.createElement('span');
        dots.textContent = '...';
        dots.style.margin = '0 6px';
        container.appendChild(dots);
      }
      const btn = document.createElement('button');
      btn.textContent = String(totalPages);
      btn.className = 'page-number';
      btn.onclick = () => renderReportsPage(totalPages);
      container.appendChild(btn);
    }

    const next = document.createElement('button');
    next.textContent = 'Next';
    next.disabled = currentReportPage === totalPages || totalPages === 0;
    next.onclick = () => renderReportsPage(currentReportPage + 1);
    container.appendChild(next);

    const info = document.createElement('span');
    info.className = 'page-info';
    const from = total === 0 ? 0 : ((currentReportPage - 1) * REPORTS_PER_PAGE) + 1;
    const to = Math.min(currentReportPage * REPORTS_PER_PAGE, reportsDataAll.length);
    info.textContent = `Showing ${from}-${to} of ${reportsDataAll.length}`;
    container.appendChild(info);
  }

  // Submit handler uses paginated renderer
  document.getElementById('reportForm').addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent page reload

    // Collect form data
    const reportType = document.querySelector('input[name="reportType"]:checked').value;
    const department = document.getElementById('department').value;
    const employeeId = document.getElementById('employeeId').value || "All Employees";
    const startDate = document.getElementById('startDate').value;
    const endDate = document.getElementById('endDate').value;

    const payload = { reportType, department, employeeId, startDate, endDate };

    fetch('/generate-report', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    })
    .then(response => response.json())
    .then(data => {
      console.log('Fetched Data:', data);
      reportsDataAll = Array.isArray(data) ? data : [];
      currentReportPage = 1;
      renderReportsPage(currentReportPage, payload);
    })
    .catch(error => { console.error('Error fetching report:', error); });
  });
</script>
<script>
  // Show the reports section and render a personal attendance report.
  // Tries common endpoints and falls back to a small sample if none available.
  async function showMyAttendanceReport() {
    // Hide all sections and show reports
    document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
    const reportsSection = document.getElementById('reports');
    if (reportsSection) reportsSection.style.display = 'block';

    // Mark report type as attendance (if radio exists)
    const attendanceRadio = document.querySelector('input[name="reportType"][value="attendance"]');
    if (attendanceRadio) attendanceRadio.checked = true;

    // Attempt to fetch attendance from a few likely endpoints
    const endpoints = ['/api/myattendance', '/attendance', '/api/attendance', '/summary'];
    let attendanceData = null;

    for (const ep of endpoints) {
      try {
        const res = await fetch(ep);
        if (!res.ok) continue;
        const json = await res.json();
        // normalize: if object contains list under data or records, pick that
        if (Array.isArray(json)) {
          attendanceData = json;
          break;
        } else if (Array.isArray(json.data)) {
          attendanceData = json.data;
          break;
        } else if (Array.isArray(json.records)) {
          attendanceData = json.records;
          break;
        } else if (json && Object.keys(json).length && (json.start_time || json.hours_worked)) {
          // single-summary object -> convert to array
          attendanceData = [json];
          break;
        }
      } catch (err) {
        // try next endpoint
        console.warn('fetch', ep, 'failed', err);
      }
    }

    // Fallback sample if no data
    if (!Array.isArray(attendanceData) || attendanceData.length === 0) {
      const today = new Date().toISOString().split('T')[0];
      attendanceData = [
        { employeeId: window.userId || 'EMP02', name: 'You', department: 'N/A', status: 'Present', discrepancies: '', time_in: '09:00', time_out: '17:30', date: today }
      ];
    }

    // Build table HTML
    let tableHTML = `
      <table border="1" cellspacing="0" cellpadding="8" style="width:100%; border-collapse:collapse;">
        <thead style="background:#f2f2f2;">
          <tr>
            <th>Employee ID</th>
            <th>Name</th>
            <th>Department</th>
            <th>Date</th>
            <th>Status</th>
            <th>Discrepancies</th>
            <th>Time In</th>
            <th>Time Out</th>
          </tr>
        </thead>
        <tbody>
    `;

    attendanceData.forEach(row => {
      const id = row.employeeId || row.userid || row.id || row.userId || (row.userid && row.userid) || (window.userId || '');
      const name = row.name || row.username || '‚Äî';
      const dept = row.department || row.dept || '‚Äî';
      const dateRaw = row.date || row.day || row.start_time || row.startTime || null;
      const date = dateRaw ? formatToDDMMYYYY(dateRaw) : '‚Äî';
      const status = row.status || row.attendance_status || (row.hours_worked ? 'Present' : '‚Äî');
      const discrepancies = row.discrepancies || '';
      const timeIn = row.time_in || row.start_time ? (row.time_in || (row.start_time ? new Date(row.start_time).toLocaleTimeString() : '‚Äî')) : '‚Äî';
      const timeOut = row.time_out || row.end_time ? (row.time_out || (row.end_time ? new Date(row.end_time).toLocaleTimeString() : '‚Äî')) : '‚Äî';

      tableHTML += `
        <tr>
          <td>${id}</td>
          <td>${name}</td>
          <td>${dept}</td>
          <td>${date}</td>
          <td>${status}</td>
          <td>${discrepancies}</td>
          <td>${timeIn}</td>
          <td>${timeOut}</td>
        </tr>
      `;
    });

    tableHTML += `
        </tbody>
      </table>`;

    // Render into the existing report container
    const container = document.getElementById('reportTableContainer');
    if (container) {
      container.innerHTML = `
        <h3>My Attendance Report</h3>
        <p>Showing recent attendance for ${window.userId || 'You'}</p>
        ${tableHTML}
      `;
    } else {
      // Fallback: open reports in a new window
      const w = window.open();
      w.document.body.innerHTML = `<h3>My Attendance Report</h3>${tableHTML}`;
    }
  }
  // Export to Excel functionality
  document.getElementById('exportExcelBtn').addEventListener('click', function () {
    const table = document.querySelector('#reportTableContainer table');
    if (!table) {
      alert('No report table to export!');
      return;
    }

    let csv = '';
    // Get headers
    const rows = table.querySelectorAll('tr');
    for (let i = 0; i < rows.length; i++) {
      const cols = rows[i].querySelectorAll('th,td');
      let row = [];
      cols.forEach(col => {
        // Escape double quotes and commas
        let text = col.innerText.replace(/"/g, '""');
        if (text.indexOf(',') !== -1 || text.indexOf('"') !== -1) {
          text = '"' + text + '"';
        }
        row.push(text);
      });
      csv += row.join(',') + '\r\n';
    }

    // Download CSV
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'report.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
  });
</script>

<!-- Improved styling for generated reports: wider, readable table and single-line date range -->
<style>/* Report container - full width, responsive */
#reportTableContainer {
  width: 120%;
  margin: 20px auto;
  padding: 0 20px;
  overflow-x: visible; /* allow full display */
}

/* Title styling */
#reportTableContainer h3 {
  margin: 8px 0 6px;
  font-size: 20px;
  color: #222;
  font-weight: 600;
}

/* Meta info line */
#reportTableContainer > p {
  margin: 0 0 12px;
  color: #555;
  font-size: 14px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap; /* allow wrapping on small screens */
  white-space: normal;
  align-items: center;
}

/* Table styling - full width and responsive */
#reportTableContainer .styled-table {
  width: 100%;
  border-collapse: collapse;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-size: 14px;
  color: #333;
  background: #fff;
  box-shadow: 0 6px 18px rgba(13,38,76,0.06);
  border-radius: 8px;
  table-layout: auto; /* let columns size naturally */
}

/* Table head */
#reportTableContainer .styled-table thead th {
  background: linear-gradient(180deg, #f8fafc 0%, #f4f6f9 100%);
  color: #213547;
  font-weight: 700;
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid #e6e9ef;
  position: sticky;
  top: 0;
  z-index: 2;
}

/* Table body */
#reportTableContainer .styled-table tbody td {
  padding: 12px 16px;
  border-bottom: 1px solid #f1f4f8;
  vertical-align: middle;
}

/* Highlight first column */
#reportTableContainer .styled-table tbody td:first-child {
  font-weight: 600;
  color: #0b63d4;
  white-space: nowrap;
}

/* Row hover effect */
#reportTableContainer .styled-table tbody tr:hover {
  background: #fbfdff;
}

/* Pagination styling */
#reportPagination {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 12px;
}

#reportPagination .page-info {
  margin-left: 12px;
  color: #666;
  font-size: 13px;
}

/* No records message styling */
#reportTableContainer .no-records {
  text-align: center;
  color: #777;
  padding: 18px;
}

/* Responsive: handle small screens */
@media (max-width: 768px) {
  #reportTableContainer {
    padding: 0 10px;
  }

  #reportTableContainer .styled-table {
    font-size: 13px;
  }

  #reportTableContainer > p {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style>

<!-- REPORT SECTION -->
 
    <style>
.report-form {
  background: #fff;
  padding: 100px;
  border: 1px solid #e0e0e0;
  border-radius: 12px;
  max-width: 10000px;
  margin: 20px auto;
  font-family: "Segoe UI", Arial, sans-serif;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.section-header h1 {
  margin-bottom: 5px;
  font-size: 24px;
  font-weight: 600;
  color: #333;
}

.section-header p {
  margin-bottom: 20px;
  color: #777;
}

h3 {
  margin-top: 25px;
  margin-bottom: 8px;
  font-size: 18px;
  font-weight: 600;
  color: #444;
}

p {
  margin: 0 0 15px 0;
  color: #666;
  font-size: 14px;
}

.report-type-row {
  display: flex;
  gap: 20px;
  margin-bottom: 25px;
}
.report-option {
  flex: 1;
  border: 2px solid #ddd;
  border-radius: 10px;
  padding: 16px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: 0.2s ease;
  background: #fafafa;
  white-space: nowrap; /*  prevents text from wrapping */
}

.report-option span {
  font-size: 15px;
  font-weight: 500;
  color: #333;
}

.report-option:hover {
  border-color: #007bff;
  background: #f0f8ff;
}

.report-option input {
  accent-color: #007bff;
  transform: scale(1.2);
}

.parameters-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px 40px;
  margin-bottom: 25px;
}

.parameters-grid label {
  display: block;
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 14px;
  color: #333;
}

.parameters-grid input,
.parameters-grid select {
  width: 100%;
  padding: 10px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 6px;
  transition: border-color 0.2s ease;
}

.parameters-grid input:focus,
.parameters-grid select:focus {
  border-color: #007bff;
  outline: none;
}

.form-footer {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 20px;
  margin-top: 20px;
}

.form-footer span {
  color: #555;
  font-weight: 600;
}

.btn-generate {
  background: #007bff;
  border: none;
  padding: 10px 20px;
  cursor: pointer;
  border-radius: 6px;
  color: #fff;
  font-size: 15px;
  font-weight: 500;
  transition: background 0.2s ease;
}

.btn-generate:hover {
  background: #0056b3;
}
</style>

<!-- Improved styling for generated reports: wider, readable table and single-line date range -->
<style>/* Report container - full width, responsive */
#reportTableContainer {
  width: 100%;
  margin: 20px auto;
  padding: 0 20px;
  overflow-x: visible; /* allow full display */
}

/* Title styling */
#reportTableContainer h3 {
  margin: 8px 0 6px;
  font-size: 20px;
  color: #222;
  font-weight: 600;
}

/* Meta info line */
#reportTableContainer > p {
  margin: 0 0 12px;
  color: #555;
  font-size: 14px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap; /* allow wrapping on small screens */
  white-space: normal;
  align-items: center;
}

/* Table styling - full width and responsive */
#reportTableContainer .styled-table {
  width: 100%;
  border-collapse: collapse;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  font-size: 14px;
  color: #333;
  background: #fff;
  box-shadow: 0 6px 18px rgba(13,38,76,0.06);
  border-radius: 8px;
  table-layout: auto; /* let columns size naturally */
}

/* Table head */
#reportTableContainer .styled-table thead th {
  background: linear-gradient(180deg, #f8fafc 0%, #f4f6f9 100%);
  color: #213547;
  font-weight: 700;
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid #e6e9ef;
  position: sticky;
  top: 0;
  z-index: 2;
}

/* Table body */
#reportTableContainer .styled-table tbody td {
  padding: 12px 16px;
  border-bottom: 1px solid #f1f4f8;
  vertical-align: middle;
}

/* Highlight first column */
#reportTableContainer .styled-table tbody td:first-child {
  font-weight: 600;
  color: #0b63d4;
  white-space: nowrap;
}

/* Row hover effect */
#reportTableContainer .styled-table tbody tr:hover {
  background: #fbfdff;
}

/* Pagination styling */
#reportPagination {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 12px;
}

#reportPagination .page-info {
  margin-left: 12px;
  color: #666;
  font-size: 13px;
}

/* No records message styling */
#reportTableContainer .no-records {
  text-align: center;
  color: #777;
  padding: 18px;
}

/* Responsive: handle small screens */
@media (max-width: 768px) {
  #reportTableContainer {
    padding: 0 10px;
  }

  #reportTableContainer .styled-table {
    font-size: 13px;
  }

  #reportTableContainer > p {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style>



            
        
    
</body>
</html>